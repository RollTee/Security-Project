{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 15, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/doark/Documents/githubs/Security-Project/src/app/page.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useState, useEffect } from \"react\";\r\n\r\nexport default function ImagesPage() {\r\n    const [images, setImages] = useState<any[]>([]); // State to store images\r\n    const [uploadTime, setUploadTime] = useState<number | null>(null); // State to store upload time\r\n    const [error, setError] = useState<string | null>(null); // State to store errors\r\n\r\n    // Fetch all images from the backend\r\n    useEffect(() => {\r\n        fetch(\"http://localhost:3030/\")\r\n            .then((res) => res.json())\r\n            .then((data) => setImages(data))\r\n            .catch((err) => setError(\"Failed to fetch images\"));\r\n    }, []);\r\n\r\n    // Handle file upload\r\n    const handleUpload = async (event: React.FormEvent<HTMLFormElement>) => {\r\n        event.preventDefault();\r\n        const formData = new FormData(event.currentTarget);\r\n        const startTime = performance.now();\r\n\r\n        try {\r\n            const response = await fetch(\"http://localhost:3030/upload\", {\r\n                method: \"POST\",\r\n                body: formData,\r\n            });\r\n\r\n            if (!response.ok) {\r\n                throw new Error(\"Failed to upload image\");\r\n            }\r\n\r\n            const endTime = performance.now();\r\n            setUploadTime(endTime - startTime);\r\n\r\n            // Refresh the image list\r\n            const updatedImages = await fetch(\"http://localhost:3030/\").then((res) => res.json());\r\n            setImages(updatedImages);\r\n        } catch (err) {\r\n            setError(\"Failed to upload image\");\r\n        }\r\n    };\r\n\r\n    // Handle image download\r\n    const handleDownload = (imageID: number) => {\r\n        window.location.href = `http://localhost:3030/download/${imageID}`;\r\n    };\r\n\r\n    return (\r\n        <div>\r\n            \r\n\r\n            <div className=\"container\">\r\n                <h1>Upload Image</h1>\r\n                <form onSubmit={handleUpload} encType=\"multipart/form-data\">\r\n                    <input type=\"file\" name=\"file\" required />\r\n                    <button type=\"submit\">Upload</button>\r\n                </form>\r\n                {uploadTime && (\r\n                    <p>Image uploaded and encrypted in {uploadTime.toFixed(2)} milliseconds</p>\r\n                )}\r\n                {error && <p style={{ color: \"red\" }}>{error}</p>}\r\n            </div>\r\n\r\n            <div className=\"all-img\">\r\n                <h1>All Images</h1>\r\n                <table>\r\n                    <thead>\r\n                        <tr>\r\n                            <th>Image ID</th>\r\n                            <th>Image</th>\r\n                            <th>Action</th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                        {images.map((image) => (\r\n                            <tr key={image.id}>\r\n                                <td>{image.id}</td>\r\n                                <td>\r\n                                    <img\r\n                                        src={`data:image/jpeg;base64,${image.data}`}\r\n                                        alt=\"Image\"\r\n                                        style={{ width: \"100px\" }}\r\n                                    />\r\n                                </td>\r\n                                <td>\r\n                                    <button onClick={() => handleDownload(image.id)}>Download</button>\r\n                                </td>\r\n                            </tr>\r\n                        ))}\r\n                    </tbody>\r\n                </table>\r\n            </div>\r\n        </div>\r\n    );\r\n}"],"names":[],"mappings":";;;;AAEA;AAFA;;;AAIe,SAAS;IACpB,MAAM,CAAC,QAAQ,UAAU,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAS,EAAE,GAAG,wBAAwB;IACzE,MAAM,CAAC,YAAY,cAAc,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAiB,OAAO,6BAA6B;IAChG,MAAM,CAAC,OAAO,SAAS,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAiB,OAAO,wBAAwB;IAEjF,oCAAoC;IACpC,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACN,MAAM,0BACD,IAAI,CAAC,CAAC,MAAQ,IAAI,IAAI,IACtB,IAAI,CAAC,CAAC,OAAS,UAAU,OACzB,KAAK,CAAC,CAAC,MAAQ,SAAS;IACjC,GAAG,EAAE;IAEL,qBAAqB;IACrB,MAAM,eAAe,OAAO;QACxB,MAAM,cAAc;QACpB,MAAM,WAAW,IAAI,SAAS,MAAM,aAAa;QACjD,MAAM,YAAY,YAAY,GAAG;QAEjC,IAAI;YACA,MAAM,WAAW,MAAM,MAAM,gCAAgC;gBACzD,QAAQ;gBACR,MAAM;YACV;YAEA,IAAI,CAAC,SAAS,EAAE,EAAE;gBACd,MAAM,IAAI,MAAM;YACpB;YAEA,MAAM,UAAU,YAAY,GAAG;YAC/B,cAAc,UAAU;YAExB,yBAAyB;YACzB,MAAM,gBAAgB,MAAM,MAAM,0BAA0B,IAAI,CAAC,CAAC,MAAQ,IAAI,IAAI;YAClF,UAAU;QACd,EAAE,OAAO,KAAK;YACV,SAAS;QACb;IACJ;IAEA,wBAAwB;IACxB,MAAM,iBAAiB,CAAC;QACpB,OAAO,QAAQ,CAAC,IAAI,GAAG,CAAC,+BAA+B,EAAE,SAAS;IACtE;IAEA,qBACI,8OAAC;;0BAGG,8OAAC;gBAAI,WAAU;;kCACX,8OAAC;kCAAG;;;;;;kCACJ,8OAAC;wBAAK,UAAU;wBAAc,SAAQ;;0CAClC,8OAAC;gCAAM,MAAK;gCAAO,MAAK;gCAAO,QAAQ;;;;;;0CACvC,8OAAC;gCAAO,MAAK;0CAAS;;;;;;;;;;;;oBAEzB,4BACG,8OAAC;;4BAAE;4BAAiC,WAAW,OAAO,CAAC;4BAAG;;;;;;;oBAE7D,uBAAS,8OAAC;wBAAE,OAAO;4BAAE,OAAO;wBAAM;kCAAI;;;;;;;;;;;;0BAG3C,8OAAC;gBAAI,WAAU;;kCACX,8OAAC;kCAAG;;;;;;kCACJ,8OAAC;;0CACG,8OAAC;0CACG,cAAA,8OAAC;;sDACG,8OAAC;sDAAG;;;;;;sDACJ,8OAAC;sDAAG;;;;;;sDACJ,8OAAC;sDAAG;;;;;;;;;;;;;;;;;0CAGZ,8OAAC;0CACI,OAAO,GAAG,CAAC,CAAC,sBACT,8OAAC;;0DACG,8OAAC;0DAAI,MAAM,EAAE;;;;;;0DACb,8OAAC;0DACG,cAAA,8OAAC;oDACG,KAAK,CAAC,uBAAuB,EAAE,MAAM,IAAI,EAAE;oDAC3C,KAAI;oDACJ,OAAO;wDAAE,OAAO;oDAAQ;;;;;;;;;;;0DAGhC,8OAAC;0DACG,cAAA,8OAAC;oDAAO,SAAS,IAAM,eAAe,MAAM,EAAE;8DAAG;;;;;;;;;;;;uCAVhD,MAAM,EAAE;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmB7C","debugId":null}},
    {"offset": {"line": 246, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/doark/Documents/githubs/Security-Project/node_modules/next/src/server/route-modules/app-page/module.compiled.js"],"sourcesContent":["if (process.env.NEXT_RUNTIME === 'edge') {\n  module.exports = require('next/dist/server/route-modules/app-page/module.js')\n} else {\n  if (process.env.__NEXT_EXPERIMENTAL_REACT) {\n    if (process.env.NODE_ENV === 'development') {\n      module.exports = require('next/dist/compiled/next-server/app-page-experimental.runtime.dev.js')\n    } else if (process.env.TURBOPACK) {\n      module.exports = require('next/dist/compiled/next-server/app-page-turbo-experimental.runtime.prod.js')\n    } else {\n      module.exports = require('next/dist/compiled/next-server/app-page-experimental.runtime.prod.js')\n    }\n  } else {\n    if (process.env.NODE_ENV === 'development') {\n      module.exports = require('next/dist/compiled/next-server/app-page.runtime.dev.js')\n    } else if (process.env.TURBOPACK) {\n      module.exports = require('next/dist/compiled/next-server/app-page-turbo.runtime.prod.js')\n    } else {\n      module.exports = require('next/dist/compiled/next-server/app-page.runtime.prod.js')\n    }\n  }\n}\n"],"names":["process","env","NEXT_RUNTIME","module","exports","require","__NEXT_EXPERIMENTAL_REACT","NODE_ENV","TURBOPACK"],"mappings":";AAAA,IAAIA,QAAQC,GAAG,CAACC,YAAY,KAAK,MAAQ;;AAEzC,OAAO;IACL,IAAIF,QAAQC,GAAG,CAACK,uBAA2B,EAAF;;IAQzC,OAAO;QACL,IAAIN,QAAQC,GAAG,CAACM,QAAQ,KAAK,WAAe;YAC1CJ,OAAOC,OAAO,GAAGC,QAAQ;QAC3B,OAAO,IAAIL,QAAQC,GAAG,CAACO,SAAS,EAAE;;QAIlC;IACF;AACF","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 265, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/doark/Documents/githubs/Security-Project/node_modules/next/src/server/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.ts"],"sourcesContent":["module.exports = require('../../module.compiled').vendored[\n  'react-ssr'\n].ReactJsxDevRuntime\n"],"names":["module","exports","require","vendored","ReactJsxDevRuntime"],"mappings":";AAAAA,OAAOC,OAAO,GAAGC,QAAQ,4HAAyBC,QAAQ,CACxD,YACD,CAACC,kBAAkB","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 272, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/doark/Documents/githubs/Security-Project/node_modules/next/src/server/route-modules/app-page/vendored/ssr/react.ts"],"sourcesContent":["module.exports = require('../../module.compiled').vendored['react-ssr'].React\n"],"names":["module","exports","require","vendored","React"],"mappings":";AAAAA,OAAOC,OAAO,GAAGC,QAAQ,4HAAyBC,QAAQ,CAAC,YAAY,CAACC,KAAK","ignoreList":[0],"debugId":null}}]
}